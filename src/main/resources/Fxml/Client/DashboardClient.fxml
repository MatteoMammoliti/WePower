<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Font?>

<BorderPane stylesheets="@../../Styles/Dashboard.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.wepower.wepower.Controllers.Client.ClientDashboardController">

    <!-- Sidebar sinistra (vuota / logo) -->
    <left>
        <Pane BorderPane.alignment="CENTER" />
    </left>

    <!-- Contenuto principale scrollabile -->
    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true" vbarPolicy="AS_NEEDED" BorderPane.alignment="CENTER">
            <content>
                <!-- VBox root -->
                <VBox fx:id="containerRoot" alignment="CENTER" spacing="40">
                    <padding>
                        <Insets bottom="20" left="12" right="12" top="20" />
                    </padding>

                    <!-- Header / offerte -->
                    <VBox spacing="10" styleClass="pane_offerte_dashboard" stylesheets="@../../Styles/Dashboard.css">
                        <children>
                            <Label fx:id="labelNomeUtenteSaluto" text="Ciao, Matteo">
                                <font><Font name="Arial Bold" size="30.0" /></font>
                            </Label>

                            <Label styleClass="testo_offerte_dashboard" text="Ecco alcune offerte riservate per te">
                                <font><Font name="Arial Bold" size="30.0" /></font>
                            </Label>

                            <Separator />

                            <ScrollPane fx:id="scrollPaneBanner" fitToHeight="true" fitToWidth="false" hbarPolicy="NEVER" pannable="true" vbarPolicy="NEVER">
                                <content>
                                    <HBox fx:id="displayerBanner" spacing="20" />
                                </content>
                            </ScrollPane>
                        </children>
                    </VBox>
               <Label fx:id="labelFrase" text="PROVA FRASE MOTIVAZIONALE">
                  <font>
                     <Font name="Arial" size="60.0" />
                  </font>
               </Label>

                    <Pane fx:id="spazioFlessibile" VBox.vgrow="ALWAYS" />

                    <!-- Sezione grafici -->
                    <HBox fx:id="containerGrafici" spacing="20" VBox.vgrow="ALWAYS">
                        <!-- Colonna 1 -->
                        <VBox alignment="TOP_CENTER" spacing="8" HBox.hgrow="ALWAYS">
                            <children>
                                <MenuButton fx:id="choiceEsercizioScheda" text="Seleziona Esercizio" />
                                <LineChart fx:id="graficoMassimali" VBox.vgrow="ALWAYS">
                                    <xAxis><CategoryAxis label="Data Inserimento" side="BOTTOM" fx:id="xAxisMassimali" /></xAxis>
                                    <yAxis><NumberAxis fx:id="yAxisMassimali" label="Peso" side="LEFT" /></yAxis>
                                </LineChart>
                            </children>
                        </VBox>

                        <!-- Colonna 2 -->
                        <VBox HBox.hgrow="ALWAYS">
                            <children>
                                <BarChart fx:id="graficoPresenzePalestra" VBox.vgrow="ALWAYS">
                                    <xAxis><CategoryAxis label="Mesi" side="BOTTOM" /></xAxis>
                                    <yAxis><NumberAxis label="Numero prenotazioni" side="LEFT" /></yAxis>
                           <VBox.margin>
                              <Insets top="30.0" />
                           </VBox.margin>
                                </BarChart>
                            </children>
                        </VBox>

                        <!-- Colonna 3 -->
                        <VBox HBox.hgrow="ALWAYS">
                            <children>
                                <LineChart fx:id="graficoPeso" VBox.vgrow="ALWAYS">
                                    <xAxis><CategoryAxis label="Data" side="BOTTOM" /></xAxis>
                                    <yAxis><NumberAxis fx:id="yAxisPesoCorporeo" label="Peso" side="LEFT" /></yAxis>
                           <VBox.margin>
                              <Insets top="30.0" />
                           </VBox.margin>
                                </LineChart>
                            </children>
                        </VBox>
                    </HBox>

                </VBox> <!-- fine VBox root centrale -->
            </content>
        </ScrollPane>
    </center>

    <!-- Colonna destra -->
    <right>
        <AnchorPane styleClass="client_menu_container" stylesheets="@../../Styles/clientMenu.css" BorderPane.alignment="CENTER">
            <children>
            <VBox alignment="BOTTOM_CENTER" maxWidth="250.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
               <children>
                      <!-- Calendario -->
                      <AnchorPane fx:id="containerCalendario" />
                  <HBox>
                     <children>
                        <Circle fill="#27374de5" radius="6.0" stroke="#27374d00" strokeType="INSIDE">
                           <HBox.margin>
                              <Insets right="5.0" />
                           </HBox.margin>
                        </Circle>
                        <Label text="Prenotato">
                           <font>
                              <Font name="Arial Bold" size="12.0" />
                           </font>
                        </Label>
                        <Circle fill="#27374d7f" radius="6.0" stroke="TRANSPARENT" strokeType="INSIDE">
                           <HBox.margin>
                              <Insets left="10.0" right="5.0" />
                           </HBox.margin>
                        </Circle>
                        <Label text="Giorno di chiusura">
                           <font>
                              <Font name="Arial Bold" size="12.0" />
                           </font>
                        </Label>
                     </children>
                     <VBox.margin>
                        <Insets top="10.0" />
                     </VBox.margin>
                  </HBox>
      
                      <!-- Separatore orizzontale -->
                      <Separator />
                  <Region VBox.vgrow="ALWAYS" />
      
                            <!-- ChatBot area -->
                   <AnchorPane fx:id="chatBotContainer">
                       <children>
                           <!-- ScrollPane che contiene la VBox dei messaggi -->
                           <ScrollPane fx:id="scrollPaneChatArea" fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="ALWAYS" AnchorPane.bottomAnchor="40" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
                               <VBox id="vbox_chatbot" fx:id="chatVBox" prefHeight="289.0" prefWidth="215.0" spacing="10" />
                           </ScrollPane>

                           <!-- Campo input per scrivere -->
                           <TextField id="text_field_bot" fx:id="inputField" promptText="Fai una domanda..." AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="85.0" />

                           <!-- Bottone invia -->
                           <Button id="bottone_chat_bot" fx:id="inviaButton" prefWidth="80" text="Invia" AnchorPane.bottomAnchor="0" AnchorPane.rightAnchor="0" />
                       </children>
                   </AnchorPane>

               </children>
               <padding>
                  <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
               </padding>
            </VBox>
            </children>
        </AnchorPane>
    </right>

    <styleClass>
        <String fx:value="sfondo" />
        <String fx:value="testo_offerte_dashboard" />
    </styleClass>
</BorderPane>
